---
import { getCollection } from 'astro:content'
import Hero from '../components/Hero.astro'
import LogosStrip from '../components/LogosStrip.astro'
import ProjectGrid from '../components/ProjectGrid.astro'
import ServicesBigCards from '../components/ServicesBigCards.astro'
import BaseLayout from '../layouts/BaseLayout.astro'

const allProjects = await getCollection('projects')

const projectsWithLEEDorBREEAMCert = await getCollection('projects', ({ data }) => {
  const cert = data.certificate?.toUpperCase() ?? ''
  return cert.includes('LEED') || cert.includes('BREEAM')
})

const projectCount = projectsWithLEEDorBREEAMCert.length

const titleHtml = `Consultancy and certification <br/> in the field of BREEAM, LEED, EU&nbsp;Taxonomy, ESG and carbon&nbsp;neutrality`
const subtitleHtml = `More than ${projectCount}  BREEAM and LEED certifications <br/> delivered across Slovakia, Czechia and Slovenia`

const heroLinks = [
  { href: '/projects', label: 'Projects' },
  { href: '/contact', label: 'Contact' }
]

const accreditationsTitle = 'Accreditations'
const accreditations = [
  'LEED AP BD+C',
  'LEED Green Associate',
  'BREEAM International Assessor',
  'BREEAM AP',
  'BREEAM In Use Assessor',
  'WELL AP',
  'DGNB International Consultant',
  'Fitwel Ambassador',
  'Certified Passive House Designer & Consultant',
  'Authorized Civil Engineer â€” Building Physics'
]

const services = [
  {
    title: 'BREEAM NC',
    desc: 'BREEAM is the oldest and most widely used certification system in the world, providing access to advanced know-how in the field of building sustainability.',
    href: '/services/breeam-new-construction'
  },
  {
    title: 'BREEAM for logistics warehouses',
    desc: 'SALVIS specializes in BREEAM certification for logistics warehouses, with extensive experience from projects with clients such as VGP, Panattoni, and Contera.',
    href: '/services/breeam-for-logistics-warehouses'
  },
  {
    title: 'BREEAM In-Use',
    desc: 'BREEAM In-Use provides a comprehensive framework for assessing and improving the operational sustainability of commercial real estate.',
    href: '/breeam-in-use'
  },
  {
    title: 'LEED BD+C',
    desc: 'Internationally recognized sustainability certificate. Increases property value when selling and facilitates communication with investors.',
    href: '/services/leed-building-design-construction'
  },
  {
    title: 'LEED O+M',
    desc: 'The goal of LEED O+M is to systematically improve the environmental, energy, and operational performance of buildings while reducing their operating costs and carbon footprint',
    href: '/services/leed-operations-maintenance'
  },
  {
    title: 'EU Taxonomy',
    desc: 'The EU taxonomy introduces a common framework for determining what constitutes a truly "sustainable" economic activity.',
    href: '/services/eu-taxonomy'
  },
  {
    title: 'Decarbonisation of existing buildings',
    desc: 'We will help you set a clear and verifiable path to decarbonisation in line with EU Taxonomy, ESG requirements, SBTi, and global best practices.',
    href: '/services/decarbonisation-of-existing-buildings'
  },
  {
    title: 'Building simulations',
    desc: 'Building simulations enable informed decisions to be made before construction begins, saving costs, reducing risks, and increasing the value of the investment.',
    href: '/services/building-simulations'
  },
  {
    title: 'EPD',
    desc: 'EPD (Environmental Product Declaration) is a declaration that represents a uniform methodology for assessing and publishing the environmental impact of construction products.',
    href: '/services/environmental-product-declaration'
  }
]

// const logos = [
//   { src: '/logos/clients/contera_logo.svg', alt: 'Contera', scale: 0.5 },
//   { src: '/logos/clients/corwin_logo.svg', alt: 'Corwin', scale: 0.5 },
//   { src: '/logos/clients/JTRE.svg', alt: 'Corwin', scale: 0.5 },
//   { src: '/logos/clients/lucron_logo.svg', alt: 'Lucron' },
//   { src: '/logos/clients/panattoni_logo.svg', alt: 'Panattoni', scale: 0.8 },
//   { src: '/logos/clients/penta_logo.svg', alt: 'Penta', scale: 0.8 },
//   { src: '/logos/clients/reinoo_logo.svg', alt: 'Reinoo', scale: 0.8 },
//   { src: '/logos/clients/saint_gobain.svg', alt: 'Saint Gobain' },
//   { src: '/logos/clients/vgp_logo.svg', alt: 'VGP' }
// ]
---

<BaseLayout>
  <Hero
    titleHtml={titleHtml}
    subtitleHtml={subtitleHtml}
    heroLinks={heroLinks}
    accreditationsTitle={accreditationsTitle}
    accreditations={accreditations}
  />

  <ServicesBigCards heading='Services' services={services} cols={3} />
  <LogosStrip heightPx={46} />

  <ProjectGrid projects={allProjects} variant='all' title='Projects' />
</BaseLayout>
