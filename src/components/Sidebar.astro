---
/* Sidebar.astro — works if used only from .astro pages/layouts (no MDX) */
const pathname = Astro.url.pathname.replace(/\/+$/, '') || '/' // normalize: '/leed/' -> '/leed'
const isActive = (slug: string) => pathname === `/${slug}` || pathname.startsWith(`/${slug}/`)
---

<ul class='nav flex-column mb-auto sticky-top sidebar' id='sidebar'>
  <li class='nav-item border-bottom'>
    <a
      href='/breeam'
      class={`nav-link ps-0 rounded-0 ${isActive('breeam') ? 'active' : 'link-dark'}`}
    >
      BREEAM
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/breeam-pre-logisticke-haly'
      class={`nav-link ps-0 rounded-0 ${isActive('breeam-pre-logisticke-haly') ? 'active' : 'link-dark'}`}
    >
      BREEAM pre logistické haly</a
    >
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/leed'
      class={`nav-link ps-0 rounded-0 ${isActive('leed') ? 'active' : 'link-dark'}`}
      aria-current='page'
    >
      LEED
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/leed-om'
      class={`nav-link ps-0 rounded-0 ${isActive('leed-om') ? 'active' : 'link-dark'}`}
    >
      LEED O+M
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/derkabonizacia-existujucich-budov'
      class={`nav-link ps-0 rounded-0 ${isActive('derkabonizacia-existujucich-budov') ? 'active' : 'link-dark'}`}
    >
      Dekarbonizácia existujúcich budov
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/esg-audit-budov'
      class={`nav-link ps-0 rounded-0 ${isActive('esg-audit-budov') ? 'active' : 'link-dark'}`}
    >
      ESG audit budovy
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a href='/epd' class={`nav-link ps-0 rounded-0 ${isActive('epd') ? 'active' : 'link-dark'}`}>
      EPD
    </a>
  </li>
  <li class='nav-item border-bottom'>
    <a
      href='/eu-taxonomia'
      class={`nav-link ps-0 rounded-0 ${isActive('eu-taxonomia') ? 'active' : 'link-dark'}`}
    >
      EÚ Taxonómia
    </a>
  </li>
  <li class='nav-item'>
    <a
      href='/simulacie-budov'
      class={`nav-link ps-0 rounded-0 ${isActive('simulacie-budov') ? 'active' : 'link-dark'}`}
    >
      Simulácie budov
    </a>
  </li>
</ul>

<style>
  #sidebar {
    top: 6.9rem;
  }
  .nav-link {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }

  .nav-item {
    transition: background-color 0.25s ease;
  }
  .nav-item:hover {
    background-color: var(--bs-light);
  }
</style>
